# Go Messenger

–ü—Ä–æ—Å—Ç–æ–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ **Go (Golang)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Gin**, **WebSocket**, **Redis** –∏ **PostgreSQL**.  
–§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–¥–µ–ª–∞–Ω –Ω–∞ **React + Vite**.  
–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤, –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`/api/register`, `/api/login`)  
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π  
- –û–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ Redis (`/api/online/:id`)  
- –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è: WebSocket (`/api/ws`)  
- –°–ø–∏—Å–æ–∫ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤ (`/api/interlocutors`)  
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∞—Ç–æ–º  

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend
- **Go** ‚Äî —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  
- **Gin** ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫  
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö  
- **Redis** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π –∏ –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å–æ–≤  
- **WebSocket** ‚Äî –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
- **Docker Compose** ‚Äî –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤  

### Frontend
- **React 19**  
- **Vite**  
- **Nginx** (–¥–ª—è –æ—Ç–¥–∞—á–∏ —Å—Ç–∞—Ç–∏–∫–∏ –∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è API)  

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **go-messenger/**
- **‚îÇ‚îÄ‚îÄ backend/** # Go —Å–µ—Ä–≤–µ—Ä (handlers, router, middleware)
- **‚îÇ‚îÄ‚îÄ frontend/** # React + Vite –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **‚îÇ‚îÄ‚îÄ docker-compose.yml**
- **‚îÇ‚îÄ‚îÄ nginx.conf**
- **‚îÇ‚îÄ‚îÄ README.md**


## üîß –ó–∞–ø—É—Å–∫

1. –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/COMF2222/go-messenger.git
cd go-messenger
```

2. –ü–æ–¥–Ω—è—Ç—å –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Docker Compose:
```bash
docker-compose up --build
```

3. –û—Ç–∫—Ä—ã—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

http://localhost

## üîë API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
| –ú–µ—Ç–æ–¥ | URL                 | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|-------|----------------------|-----------------------------|
| POST  | `/api/register`      | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è    |
| POST  | `/api/login`         | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è    |
| GET   | `/api/messages`      | –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è          |
| POST  | `/api/messages`      | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ         |
| GET   | `/api/interlocutors` | –°–ø–∏—Å–æ–∫ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤         |
| GET   | `/api/online/:id`    | –û–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| WS    | `/api/ws`            | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ WebSocket    |

## üìå –ó–∞–º–µ—Ç–∫–∏

Backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ :8082

Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:5173 (dev) –∏–ª–∏ —á–µ—Ä–µ–∑ Nginx (http://localhost)

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ /api/...

## TODO

### –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–≥–æ—Ç–æ–≤–æ)
- [x] REST: `/api/register`, `/api/login`
- [x] –°–æ–æ–±—â–µ–Ω–∏—è: `/api/messages` (GET/POST)
- [x] –°–æ–±–µ—Å–µ–¥–Ω–∏–∫–∏: `/api/interlocutors`
- [x] –û–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å: `/api/online/:id`
- [x] WebSocket: `/api/ws` (—Ä–µ–∞–ª-—Ç–∞–π–º)
- [x] CORS —É—Å—Ç—Ä–∞–Ω—ë–Ω: –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `/api` –∏ Nginx
- [x] `docker-compose` –¥–ª—è backend+frontend+db+redis+ngin
- [x] –ë–∞–∑–æ–≤—ã–π —Ñ—Ä–æ–Ω—Ç –Ω–∞ React + Vite
- [x] –ü–µ—Ä–≤–∏—á–Ω—ã–π README

### Backend: –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] Refresh-—Ç–æ–∫–µ–Ω—ã, —Ä–æ—Ç–∞—Ü–∏—è JWT, –æ—Ç–∑—ã–≤/–±–ª–æ–∫–ª–∏—Å—Ç
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã (rate-limit), –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
- [ ] –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email
- [ ] 2FA (TOTP / WebAuthn)
- [ ] –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API (`/api/v1`)
- [ ] RBAC/–ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–º–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã/–∞–¥–º–∏–Ω—ã)

### –°–æ–æ–±—â–µ–Ω–∏—è –∏ UX –ø–µ—Ä–µ–ø–∏—Å–∫–∏
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (soft delete, –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞)
- [ ] –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ/–ø—Ä–æ—á–∏—Ç–∞–Ω–æ, ¬´–ø–µ—á–∞—Ç–∞–µ—Ç‚Ä¶¬ª
- [ ] –û—Ç–≤–µ—Ç—ã, —Ü–∏—Ç–∞—Ç—ã, —Ç—Ä–µ–¥—ã, —Ä–µ–∞–∫—Ü–∏–∏
- [ ] –ó–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ/–∏–∑–±—Ä–∞–Ω–Ω—ã–µ, —á–µ—Ä–Ω–æ–≤–∏–∫–∏
- [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∫—É—Ä—Å–æ—Ä–æ–º, –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã
- [ ] –ë–ª–æ–∫/–∂–∞–ª–æ–±–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ú–µ–¥–∏–∞ –∏ —Ñ–∞–π–ª—ã
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞/—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (S3/MinIO)
- [ ] –ü—Ä–µ–≤—å—é/—Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π/–≤–∏–¥–µ–æ
- [ ] –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–∏–π

### –ì—Ä—É–ø–ø—ã –∏ –∫–∞–Ω–∞–ª—ã
- [ ] –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã, —Ä–æ–ª–∏ (admin/mod)
- [ ] –ö–∞–Ω–∞–ª—ã (one-to-many), –ø–æ–¥–ø–∏—Å–∫–∏/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –ò–Ω–≤–∞–π—Ç—ã –∏ —Å—Å—ã–ª–æ—á–Ω—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

### –ù–∞–ª–∏—á–∏–µ/Realtime
- [ ] ¬´–ü–µ—á–∞—Ç–∞–µ—Ç‚Ä¶¬ª (typing), last seen
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Web Push/APNS/FCM)
- [ ] –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ WS (—à–∞—Ä–¥–∏–Ω–≥/—Ñ–∞“£-–∞—É—Ç)

### End-to-End Encryption (E2EE)
- [ ] –ü—Ä–æ—Ç–æ–∫–æ–ª: X3DH + Double Ratchet (1:1)
- [ ] –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞/–º—É–ª—å—Ç–∏-—Å–µ—Å—Å–∏–∏, pre-keys
- [ ] –ì—Ä—É–ø–ø—ã: Sender Keys
- [ ] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–ª—é—á–µ–π (QR/—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç)
- [ ] –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- [ ] –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–∏–π

### –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –±–æ—Ç–æ–≤
- [ ] –£—á—ë—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –±–æ—Ç–æ–≤, –≤—ã–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–æ–≤ (scopes)
- [ ] –î–æ—Å—Ç–∞–≤–∫–∞ –∞–ø–¥–µ–π—Ç–æ–≤: webhook / long-poll / WS
- [ ] –ö–æ–º–∞–Ω–¥—ã, –∏–Ω–ª–∞–π–Ω-—Ä–µ–∂–∏–º, –∫–Ω–æ–ø–∫–∏/–∫–µ–π–±–æ—Ä–¥—ã
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è/–∫–≤–æ—Ç—ã, —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Bot API (OpenAPI)
- [ ] SDK:
  - [ ] Go SDK
  - [ ] Node.js SDK
  - [ ] Python SDK
- [ ] –ü—Ä–∏–º–µ—Ä—ã: echo-–±–æ—Ç, reminder-–±–æ—Ç
- [ ] –í–∏—Ç—Ä–∏–Ω–∞/–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –±–æ—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Frontend (Web)
- [ ] –£–ª—É—á—à–∏—Ç—å UI: —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤, –ø–æ–∏—Å–∫, –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
- [ ] –°–æ–æ–±—â–µ–Ω–∏—è-–ø—É–∑—ã—Ä—å–∫–∏, —Ç–µ–º—ã (—Å–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è)
- [ ] –ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è (Redux/Zustand)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, toasts
- [ ] i18n (ru/en)
- [ ] PWA (offline cache, push)
- [ ] Accessibility (a11y)

### DevOps / –ü—Ä–æ–¥
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (goose) –∏ —Å–∏–¥—ã
- [ ] CI/CD (GitHub Actions), –∞–≤—Ç–æ—Å–±–æ—Ä–∫–∞/–ª–∏–Ω—Ç/—Ç–µ—Å—Ç—ã
- [ ] Health/readiness/liveness probes
- [ ] –ë—ç–∫–∞–ø—ã –ë–î –∏ —Ä–æ—Ç–∞—Ü–∏—è
- [ ] CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏, –∫—ç—à-–∑–∞–≥–æ–ª–æ–≤–∫–∏
- [ ] Rate-limit –∏ –∑–∞—â–∏—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ Nginx

### –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ª–æ–≥–∏ (zap/logrus), –∫–æ—Ä–µ–ª—è—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ (Prometheus) + Grafana –¥–∞—à–±–æ—Ä–¥—ã
- [ ] –¢—Ä–µ–π—Å–∏–Ω–≥ (OpenTelemetry)
- [ ] –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (Sentry)

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ
- [ ] –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (handlers/services)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (DB/Redis)
- [ ] E2E (Playwright/Cypress)
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ (k6), –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (pprof)
- [ ] –õ–∏–Ω—Ç–µ—Ä—ã/—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, pre-commit hooks

### –ü—Ä–∞–≤–æ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
- [ ] GDPR/—É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü–æ–ª–∏—Ç–∏–∫–∏: Terms/Privacy, Data retention
- [ ] –ê–Ω—Ç–∏-–∞–±—å—é–∑, –º–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –æ—Ç—á—ë—Ç—ã
- [ ] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–ø–æ–∏—Å–∫, –±–∞–Ω—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
